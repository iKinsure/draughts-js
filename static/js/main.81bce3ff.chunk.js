(this.webpackJsonpdraughts=this.webpackJsonpdraughts||[]).push([[0],[,,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(1),i=n.n(r),a=n(8),s=n.n(a),u=(n(13),n(2)),c=n(3),o=n(5),h=n(4),f=n(6),d=(n(14),n(15),n(16),Object.freeze({EMPTY:0,BLACK:1,WHITE:2,BLACK_KING:3,WHITE_KING:4})),j=Object.freeze({EMPTY:0,ACTUAL:1,AVAILABLE:2,NECESSARY:3,KILLABLE:4}),l=[[0,1,0,1,0,1,0,1],[1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[2,0,2,0,2,0,2,0],[0,2,0,2,0,2,0,2],[2,0,2,0,2,0,2,0]],v=n(0),b=function(t){Object(o.a)(n,t);var e=Object(h.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(v.jsx)("span",{className:"figure figure-"+Object.keys(d)[this.props.figure].toLowerCase()})}}]),n}(i.a.Component),p=function(t){Object(o.a)(n,t);var e=Object(h.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"renderFigure",value:function(t){if(t!==d.EMPTY)return Object(v.jsx)(b,{figure:t})}},{key:"renderItem",value:function(t,e,n){var r=this,i="board-item"+((n+e)%2===0?" board-item-white":" board-item-black")+" board-"+Object.keys(j)[this.props.view[e][n]].toLowerCase();return Object(v.jsx)("div",{className:i,onClick:function(){return r.props.onClick(e,n)},children:this.renderFigure(t)},n)}},{key:"renderRow",value:function(t,e){var n=this;return Object(v.jsx)("div",{className:"board-row",children:t.map((function(t,r){return n.renderItem(t,e,r)}))},e)}},{key:"render",value:function(){var t=this;return Object(v.jsx)("div",{className:"board "+this.props.classes,children:this.props.data.map((function(e,n){return t.renderRow(e,n)}))})}}]),n}(i.a.Component),E=function(t,e){return e?t===d.BLACK||t===d.BLACK_KING:t===d.WHITE||t===d.WHITE_KING},O=function(t,e){return e?t===d.WHITE||t===d.WHITE_KING:t===d.BLACK||t===d.BLACK_KING},A=function(t){return t===d.WHITE||t===d.BLACK},m=function(t,e){return t>=0&&e>=0&&t<8&&e<8},T=function(){return Array(8).fill(null).map((function(){return Array(8).fill(j.EMPTY)}))},C=function(t,e,n,r){var i=T();i[t][e]=j.ACTUAL;return[function(t,e){return[--t,--e]},function(t,e){return[--t,++e]},function(t,e){return[++t,--e]},function(t,e){return[++t,++e]}].forEach((function(a){for(var s=a(t,e),u=Object(f.a)(s,2),c=u[0],o=u[1];m(c,o)&&!O(n[c][o],r);){if(E(n[c][o],r)){var h=a(c,o),l=Object(f.a)(h,2),v=l[0],b=l[1];m(v,b)&&n[v][b]===d.EMPTY&&(i[c][o]=j.KILLABLE,i[v][b]=j.NECESSARY);break}i[c][o]=j.AVAILABLE;var p=a(c,o),A=Object(f.a)(p,2);c=A[0],o=A[1]}})),i.some((function(t){return t.includes(j.NECESSARY)}))?i.map((function(t){return t.map((function(t){return t===j.AVAILABLE&&(t=j.EMPTY),t}))})):r&&A(n[t][e])?i.map((function(e,n){return e.map((function(e,r){return t<n&&(e=j.EMPTY),e}))})):!r&&A(n[t][e])?i.map((function(e,n){return e.map((function(e,r){return t>n&&(e=j.EMPTY),e}))})):i},L=function(t){Object(o.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this,t)).state={data:l,view:T(),isWhiteTurn:!0,rotated:!1},r}return Object(c.a)(n,[{key:"handleClick",value:function(t,e){var n=this.state.data,r=this.state.view,i=this.state.isWhiteTurn;r[t][e]===j.AVAILABLE?(this.move(t,e,this.previous.i,this.previous.j),this.setState({view:T()})):r[t][e]===j.NECESSARY?(this.move(t,e,this.previous.i,this.previous.j,{i:t-(t>=this.previous.i?1:-1),j:e-(e>=this.previous.j?1:-1)}),this.setState({view:T()})):O(n[t][e],i)&&(this.previous={i:t,j:e},this.setState({view:C(t,e,n,i)}))}},{key:"move",value:function(t,e,n,r,i){var a=this.state.data.slice();this.state.isWhiteTurn&&0===t?a[t][e]=d.WHITE_KING:this.state.isWhiteTurn||7!==t?a[t][e]=a[n][r]:a[t][e]=d.BLACK_KING,void 0!==i&&(a[i.i][i.j]=d.EMPTY),a[n][r]=d.EMPTY,this.setState({data:a,isWhiteTurn:!this.state.isWhiteTurn})}},{key:"rotate",value:function(){this.setState({rotated:!this.state.rotated})}},{key:"render",value:function(){var t=this;return Object(v.jsxs)("div",{className:"app",children:[Object(v.jsx)("header",{className:"app-header",children:Object(v.jsx)("h1",{children:"Draughts game!"})}),Object(v.jsxs)("main",{children:[Object(v.jsx)(p,{onClick:function(e,n){return t.handleClick(e,n)},data:this.state.data,view:this.state.view,classes:this.state.rotated?"board rotated":""}),Object(v.jsx)("p",{children:this.state.isWhiteTurn?"White round":"Black round"}),Object(v.jsx)("button",{onClick:function(){return t.rotate()},children:"Rotate board"})]})]})}}]),n}(i.a.Component),I=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),r(t),i(t),a(t),s(t)}))};s.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(L,{})}),document.getElementById("root")),I()}],[[18,1,2]]]);
//# sourceMappingURL=main.81bce3ff.chunk.js.map