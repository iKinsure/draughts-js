(this.webpackJsonpdraughts=this.webpackJsonpdraughts||[]).push([[0],[,,,,,,,,,,,,,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},,function(e,t,i){"use strict";i.r(t);var a=i(1),r=i.n(a),s=i(8),n=i.n(s),c=(i(13),i(6)),h=i(2),o=i(3),u=i(5),l=i(4),d=(i(14),i(15),i(16),Object.freeze({EMPTY:0,BLACK:1,WHITE:2,BLACK_KING:3,WHITE_KING:4})),v=Object.freeze({EMPTY:0,ACTUAL:1,AVAILABLE:2,NECESSARY:3,KILLABLE:4}),f=[[0,1,0,1,0,1,0,1],[1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[2,0,2,0,2,0,2,0],[0,2,0,2,0,2,0,2],[2,0,2,0,2,0,2,0]],b=i(0),j=function(e){Object(u.a)(i,e);var t=Object(l.a)(i);function i(){return Object(h.a)(this,i),t.apply(this,arguments)}return Object(o.a)(i,[{key:"render",value:function(){return Object(b.jsx)("span",{className:"figure figure-"+Object.keys(d)[this.props.figure].toLowerCase()})}}]),i}(r.a.Component),k=function(e){Object(u.a)(i,e);var t=Object(l.a)(i);function i(){return Object(h.a)(this,i),t.apply(this,arguments)}return Object(o.a)(i,[{key:"renderFigure",value:function(e){if(e!==d.EMPTY)return Object(b.jsx)(j,{figure:e})}},{key:"renderItem",value:function(e,t,i){var a=this,r="board-item"+((i+t)%2===0?" board-item-white":" board-item-black")+" board-"+Object.keys(v)[this.props.view[t][i]].toLowerCase();return Object(b.jsx)("div",{className:r,onClick:function(){return a.props.onClick(t,i)},children:this.renderFigure(e)},i)}},{key:"renderRow",value:function(e,t){var i=this;return Object(b.jsx)("div",{className:"board-row",children:e.map((function(e,a){return i.renderItem(e,t,a)}))},t)}},{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{className:"board "+this.props.classes,children:this.props.data.map((function(t,i){return e.renderRow(t,i)}))})}}]),i}(r.a.Component),p=function(e){Object(u.a)(i,e);var t=Object(l.a)(i);function i(e){var a;return Object(h.a)(this,i),(a=t.call(this,e)).state={data:f,view:a.resetView(),whiteNext:!0,rotated:!1},a}return Object(o.a)(i,[{key:"isMoveDiagonal",value:function(e,t,i,a){return t+i===a+e||t+e===a+i}},{key:"resetView",value:function(){return Array(8).fill(null).map((function(){return Array(8).fill(v.EMPTY)}))}},{key:"checkSize",value:function(e,t){return e>=0&&t>=0&&e<8&&t<8}},{key:"check",value:function(e,t,i,a){var r=this.checkToBlock(e,t,i,a),s=Object(c.a)(r,2);e=s[0],t=s[1],this.checkAfter(e,t,i,a)}},{key:"checkToBlock",value:function(e,t,i,a){var r=a(e,t),s=Object(c.a)(r,2);for(e=s[0],t=s[1];this.checkSize(e,t)&&this.state.data[e][t]===d.EMPTY;){i[e][t]=v.AVAILABLE;var n=a(e,t),h=Object(c.a)(n,2);e=h[0],t=h[1]}return[e,t]}},{key:"checkAfter",value:function(e,t,i,a){if(this.checkSize(e,t)){var r=e,s=t,n=this.state.data[e][t];if(this.state.whiteNext){if(n===d.BLACK||n===d.BLACK_KING){var h=a(e,t),o=Object(c.a)(h,2);e=o[0],t=o[1],this.checkSize(e,t)&&(n=this.state.data[e][t])===d.EMPTY&&(i[e][t]=v.NECESSARY,i[r][s]=v.KILLABLE)}}else if(n===d.WHITE||n===d.WHITE_KING){var u=a(e,t),l=Object(c.a)(u,2);e=l[0],t=l[1],this.checkSize(e,t)&&(n=this.state.data[e][t])===d.EMPTY&&(i[e][t]=v.NECESSARY,i[r][s]=v.KILLABLE)}}}},{key:"checker",value:function(e,t,i){var a=this,r=this.resetView();r[e][t]=v.ACTUAL,i.forEach((function(i){return a.check(e,t,r,i)})),this.prevI=e,this.prevJ=t,this.setState({view:r})}},{key:"handleClick",value:function(e,t){var i=function(e,t){return[--e,--t]},a=function(e,t){return[--e,++t]},r=function(e,t){return[++e,--t]},s=function(e,t){return[++e,++t]};switch(this.state.data[e][t]){case d.WHITE:this.state.whiteNext&&this.checker(e,t,[a,i]);break;case d.WHITE_KING:this.state.whiteNext&&this.checker(e,t,[a,i,s,r]);break;case d.BLACK:this.state.whiteNext||this.checker(e,t,[s,r]);break;case d.BLACK_KING:this.state.whiteNext||this.checker(e,t,[a,i,s,r]);break;default:if(this.state.view[e][t]===v.AVAILABLE)this.move(e,t,this.prevI,this.prevJ),this.setState({view:this.resetView()});else if(this.state.view[e][t]===v.NECESSARY){var n={i:e-(e>=this.prevI?1:-1),j:t-(t>=this.prevJ?1:-1)};console.log(n),this.move(e,t,this.prevI,this.prevJ,n),this.setState({view:this.resetView()})}}}},{key:"move",value:function(e,t,i,a,r){var s=this.state.data.slice();this.state.whiteNext&&0===e?s[e][t]=d.WHITE_KING:this.state.whiteNext||7!==e?s[e][t]=s[i][a]:s[e][t]=d.BLACK_KING,void 0!==r&&(s[r.i][r.j]=d.EMPTY),s[i][a]=d.EMPTY,this.setState({data:s,whiteNext:!this.state.whiteNext})}},{key:"rotate",value:function(){this.setState({rotated:!this.state.rotated})}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"app",children:[Object(b.jsx)("header",{className:"app-header",children:Object(b.jsx)("h1",{children:"Draughts game!"})}),Object(b.jsxs)("main",{children:[Object(b.jsx)(k,{onClick:function(t,i){return e.handleClick(t,i)},data:this.state.data,view:this.state.view,classes:this.state.rotated?"board rotated":""}),Object(b.jsx)("p",{children:this.state.whiteNext?"White round":"Black round"}),Object(b.jsx)("button",{onClick:function(){return e.rotate()},children:"Rotate board"})]})]})}}]),i}(r.a.Component),O=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,19)).then((function(t){var i=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,n=t.getTTFB;i(e),a(e),r(e),s(e),n(e)}))};n.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(p,{})}),document.getElementById("root")),O()}],[[18,1,2]]]);
//# sourceMappingURL=main.696295de.chunk.js.map